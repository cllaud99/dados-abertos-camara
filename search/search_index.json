{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"]},"docs":[{"location":"","title":"1.0 Objetivos","text":""},{"location":"#11-disclaimer","title":"1.1 Disclaimer","text":"<p>Este projeto tem o intuito exclusivo de estudos e visa demonstrar o uso de ferramentas modernas de engenharia de dados e t\u00e9cnicas de visualiza\u00e7\u00e3o de dados. N\u00e3o \u00e9 objetivo fazer qualquer ju\u00edzo de valor sobre os deputados ou suas atividades. Como o projeto \u00e9 utilizado para testar t\u00e9cnicas e recursos pode sofrer altera\u00e7\u00f5es a todo momento e n\u00e3o deve ser utilizado para acompanhamento dos deputados visto que n\u00e3o necess\u00e1riamente estara atualizado e/ou finalizado</p>"},{"location":"#12-objetivos-do-projeto","title":"1.2 Objetivos do Projeto","text":"<p>Este projeto visa realizar a extra\u00e7\u00e3o, carga e transforma\u00e7\u00e3o de dados abertos dispon\u00edveis no portal da C\u00e2mara dos Deputados (acesse aqui). Utilizando t\u00e9cnicas modernas de engenharia de dados e ferramentas como o dbt-core, normalizando os dados e estruturando os mesmos conforme o star schema proposto por Kimball, adotando uma abordagem de ELT (Extra\u00e7\u00e3o, Carga e Transforma\u00e7\u00e3o). Projeto utilizado para estudos e ainda em valida\u00e7\u00e3o dos dados/indicadores</p>"},{"location":"2.0%20Requisitos%20e%20KPIs/","title":"2.0 Requisitos e KPIs","text":""},{"location":"2.0%20Requisitos%20e%20KPIs/#21-matriz-dimensao-indicador","title":"2.1 Matriz Dimens\u00e3o-Indicador","text":"<p>Este documento detalha a especifica\u00e7\u00e3o de requisitos para o desenvolvimento de um dashboard destinado a simular uma an\u00e1lise dos gastos e o perfil dos deputados. O objetivo \u00e9 criar uma ferramenta interativa que permita uma compreens\u00e3o detalhada dos dados financeiros e demogr\u00e1ficos. Seguindo os requisitos estipulados abaixo</p>"},{"location":"2.0%20Requisitos%20e%20KPIs/#22-dimensao-e-indicadores","title":"2.2 Dimens\u00e3o e Indicadores","text":"Dimens\u00e3o Indicadores Deputado - Total de gastos por deputado  - M\u00e9dia de gastos por deputado  - Total de despesas por tipo  - Sexo dos deputados (distribui\u00e7\u00e3o por g\u00eanero)  - Distribui\u00e7\u00e3o por faixa et\u00e1ria  - Ranking de deputados por despesas Partido - Total de gastos por partido  - M\u00e9dia de gastos por deputado no partido  - N\u00famero de deputados por partido  - M\u00e9dia de idade dos deputados no partido  - Distribui\u00e7\u00e3o por g\u00eanero dos deputados  - Distribui\u00e7\u00e3o educacional dos deputados no partido Estado - Total de gastos por estado  - M\u00e9dia de gastos por deputado no estado  - N\u00famero total de despesas por estado  - N\u00famero de deputados por estado  - Distribui\u00e7\u00e3o por g\u00eanero dos deputados no estado  - Distribui\u00e7\u00e3o educacional dos deputados no estado Forma\u00e7\u00e3o dos Deputados - Distribui\u00e7\u00e3o educacional dos deputados Tipo de Despesa - Valor absoluto de despesas por tipo"},{"location":"2.0%20Requisitos%20e%20KPIs/#231-deputado","title":"2.3.1 Deputado","text":"<ul> <li>Total de gastos por deputado: Deve exibir a soma dos gastos realizados por cada deputado.</li> <li>M\u00e9dia de gastos por deputado: Deve calcular a m\u00e9dia dos gastos realizados pelos deputados, oferecendo uma vis\u00e3o geral do comportamento de despesas.</li> <li>Total de despesas por tipo: Necess\u00e1rio somar as despesas categorizadas por tipo (ex: passagens a\u00e9reas, manuten\u00e7\u00e3o de ve\u00edculos), facilitando a         identifica\u00e7\u00e3o de onde os recursos s\u00e3o mais utilizados.</li> <li>Sexo dos deputados (distribui\u00e7\u00e3o por g\u00eanero): Propor\u00e7\u00e3o de deputados do sexo masculino e feminino, crucial para an\u00e1lises de diversidade de g\u00eanero.</li> <li>Idade dos deputados (distribui\u00e7\u00e3o por faixa et\u00e1ria e m\u00e9dia de idade): Distribui\u00e7\u00e3o dos deputados por faixas et\u00e1rias e c\u00e1lculo da m\u00e9dia de idade, fornecendo entendimento sobre a faixa et\u00e1ria predominante.</li> <li>Ranking de deputados por despesas: Listagem dos deputados ordenados pelo total de despesas, do maior para o menor.</li> </ul>"},{"location":"2.0%20Requisitos%20e%20KPIs/#232-partido","title":"2.3.2 Partido","text":"<ul> <li>Total de gastos por partido: Soma dos gastos realizados pelos deputados de cada partido, permitindo compara\u00e7\u00f5es entre os partidos.</li> <li>M\u00e9dia de gastos por deputado no partido: M\u00e9dia dos gastos realizados pelos deputados dentro de cada partido, proporcionando uma vis\u00e3o do comportamento de despesas dentro de cada grupo pol\u00edtico.</li> <li>N\u00famero de deputados por partido: Quantidade de deputados em atividade que fazem parte de cada partido.</li> <li>M\u00e9dia de idade dos deputados no partido: M\u00e9dia de idade dos deputados em cada partido</li> <li>Distribui\u00e7\u00e3o por g\u00eanero dos deputados: Propor\u00e7\u00e3o de deputados do sexo masculino e feminino em cada partido, importante para an\u00e1lises de diversidade.</li> <li>Distribui\u00e7\u00e3o educacional dos deputados no partido: Forma\u00e7\u00e3o educacional dos deputados por partido, permitindo entender o n\u00edvel de instru\u00e7\u00e3o dentro dos grupos pol\u00edticos.</li> </ul>"},{"location":"2.0%20Requisitos%20e%20KPIs/#233-estado","title":"2.3.3 Estado","text":"<ul> <li>Total de gastos por estado: Soma dos gastos realizados pelos deputados de cada estado, ajudando a identificar onde os recursos s\u00e3o mais gastos.</li> <li>M\u00e9dia de gastos por deputado no estado: M\u00e9dia dos gastos realizados pelos deputados dentro de cada estado, oferecendo uma vis\u00e3o regional do comportamento de despesas.</li> <li>N\u00famero de deputados por estado: Quantidade de deputados pertencentes a cada estado, crucial para dimensionar a representa\u00e7\u00e3o pol\u00edtica.</li> <li>Distribui\u00e7\u00e3o por g\u00eanero dos deputados no estado: Propor\u00e7\u00e3o de deputados do sexo masculino e feminino em cada estado, importante para an\u00e1lises de diversidade regional.</li> <li>Distribui\u00e7\u00e3o educacional dos deputados no estado: Forma\u00e7\u00e3o educacional dos deputados por estado, permitindo entender o n\u00edvel de instru\u00e7\u00e3o regional.</li> </ul>"},{"location":"2.0%20Requisitos%20e%20KPIs/#234-formacao-dos-deputados","title":"2.3.4 Forma\u00e7\u00e3o dos Deputados","text":"<ul> <li>Distribui\u00e7\u00e3o educacional dos deputados: N\u00edvel de forma\u00e7\u00e3o educacional dos deputados, distribu\u00eddos por diferentes categorias (ex: Ensino Fundamental, M\u00e9dio, Superior, P\u00f3s-Gradua\u00e7\u00e3o, Mestrado, Doutorado), fornecendo insights sobre o perfil educacional.</li> </ul>"},{"location":"2.0%20Requisitos%20e%20KPIs/#235-tipo-de-despesa","title":"2.3.5 Tipo de Despesa","text":"<ul> <li>Total de despesas por tipo: Soma dos gastos realizados pelos deputados por cada tipo de despesa, essencial para identificar as categorias de maior consumo.</li> <li>Distribui\u00e7\u00e3o percentual de despesas por tipo: Porcentagem de cada tipo de despesa em rela\u00e7\u00e3o ao total de despesas, \u00fatil para an\u00e1lises proporcionais.</li> <li>Valor absoluto de despesas por tipo: Valores absolutos de despesas para cada tipo de despesa, fornecendo uma vis\u00e3o clara dos montantes gastos.</li> </ul>"},{"location":"2.0%20Requisitos%20e%20KPIs/#236-fornecedores","title":"2.3.6 Fornecedores","text":"<ul> <li>Armazenamento estuturado  tamb\u00e9m foi adicionada a tabela de fornecedores para analises futuras</li> </ul>"},{"location":"2.0%20Requisitos%20e%20KPIs/#237-observacoes-adicionais","title":"2.3.7 Observa\u00e7\u00f5es Adicionais","text":"<ul> <li>Visualiza\u00e7\u00f5es Gr\u00e1ficas: Os dashboards devem utilizar v\u00e1rias visualiza\u00e7\u00f5es gr\u00e1ficas, como gr\u00e1ficos de barras, gr\u00e1ficos de rosca, treemaps, e mapas geogr\u00e1ficos para representar os dados de forma clara e intuitiva.</li> <li>Filtros Din\u00e2micos: Deve haver a possibilidade de filtrar dados por UF (Unidade Federativa) e partido para an\u00e1lises espec\u00edficas.</li> <li>Compara\u00e7\u00f5es Temporais: Deve ser poss\u00edvel realizar a an\u00e1lise das despesas por per\u00edodos (mensais) para identificar tend\u00eancias e picos de gastos.</li> </ul>"},{"location":"3.0%20Arquitetura/","title":"3.0 Arquitetura do Projeto","text":""},{"location":"3.0%20Arquitetura/#31-a-imagem-abaixo-descreve-a-arquitetura-escolhida-para-o-projeto-e-pode-ser-acessada-aqui","title":"3.1 A imagem abaixo descreve a arquitetura escolhida para o projeto e pode ser acessada  aqui","text":""},{"location":"3.0%20Arquitetura/#32-fonte-de-dados","title":"3.2 Fonte de Dados","text":"<ul> <li>C\u00e2mara dos Deputados: A fonte de dados \u00e9 a API da C\u00e2mara dos Deputados, que fornece dados estruturados no formato JSON.</li> </ul>"},{"location":"3.0%20Arquitetura/#33-extracao-e-carga","title":"3.3 Extra\u00e7\u00e3o e Carga","text":"<ul> <li>Python: Python \u00e9 a linguagem de programa\u00e7\u00e3o escolhida devido a sua ampla utiliza\u00e7\u00e3o quando se fala de projetos de dados.<ul> <li>Bibliotecas Utilizadas:<ul> <li>Poetry: Poetry gerenciando depend\u00eancias e ambientes virtuais, foram escolhidos para facilitar a  manuten\u00e7\u00e3o do projeto.</li> <li>Requests: Para fazer as requisi\u00e7\u00f5es HTTP e obter os dados da API.</li> <li>Pydantic: Para valida\u00e7\u00e3o de dados, garantindo que os dados recebidos estejam no formato esperado.</li> <li>Pandas: Para manipula\u00e7\u00e3o e transforma\u00e7\u00e3o dos dados em estruturas tabulares.</li> <li>SQLAlchemy (SQLA): Um ORM (Object-Relational Mapping) para facilitar a intera\u00e7\u00e3o com o banco de dados PostgreSQL.</li> <li>Loguru: Para logging, ajudando na rastreabilidade e depura\u00e7\u00e3o do c\u00f3digo.</li> </ul> </li> </ul> </li> </ul>"},{"location":"3.0%20Arquitetura/#34-data-warehouse","title":"3.4 Data Warehouse","text":"<ul> <li>PostgreSQL: Banco de dados relacional utilizado para armazenar tanto os dados brutos (raw data) quanto os dados transformados.</li> <li>dbt Core: Ferramenta de transforma\u00e7\u00e3o de dados que utiliza SQL. Facilita a cria\u00e7\u00e3o de modelos transformados e o versionamento das transforma\u00e7\u00f5es, integrando bem com o PostgreSQL.</li> </ul>"},{"location":"3.0%20Arquitetura/#35-dataviz","title":"3.5 Dataviz","text":"<ul> <li>Power BI: Ferramenta de visualiza\u00e7\u00e3o de dados usada para criar dashboards interativos e relat\u00f3rios a partir dos dados transformados no data warehouse.</li> </ul>"},{"location":"3.0%20Arquitetura/#36-infraestrutura-e-controle-de-versao","title":"3.6 Infraestrutura e Controle de Vers\u00e3o","text":"<ul> <li>GitHub: Para controle de vers\u00e3o, facilitando a colabora\u00e7\u00e3o e o rastreamento de altera\u00e7\u00f5es no c\u00f3digo.</li> </ul>"},{"location":"4.0%20etapas/","title":"4.0 Fluxo das Etapas","text":""},{"location":"4.0%20etapas/#41-abaixo-o-fluxo-macro-que-descreve-o-fluxo-da-pipeline","title":"4.1 Abaixo o fluxo macro que descreve o fluxo da pipeline","text":"<pre><code>graph\n    A[Iniciar Processo] --&gt;|Verifica se a pasta data existe| B{Pasta data existe?}\n    B -- Sim --&gt; C[Apagar a pasta data]\n    B -- N\u00e3o --&gt; D[Fazer requisi\u00e7\u00e3o com requests]\n    C --&gt; D\n    D --&gt; E[Salvar os dados em CSV na pasta local]\n    E --&gt; F[Validar os dados com Pydantic]\n    F --&gt; G[Conectar com o banco de dados via ORM]\n    G --&gt; H[Limpar os dados da tabela public]\n    H --&gt; I[Alimentar a tabela com ORM]\n    I --&gt; J[Rodar dbt seeds]\n    J --&gt; K[Rodar dbt run]\n    K --&gt; L[Rodar dbt tests]\n    L --&gt; M[Criar camadas stage, intermediate e marts]\n    M --&gt; O[Conectar um projeto Power BI nas marts]\n\n</code></pre> <ul> <li> <p>4.1.1 Inicia o processo:     Come\u00e7a por verificar se j\u00e1 existe uma pasta chamada \"data\" onde vamos armazenar nosso dado.</p> </li> <li> <p>4.1.2 Verifica a exist\u00eancia da pasta \"data\":</p> </li> <li>Se a pasta existe:     Vamos apagar tudo que est\u00e1 dentro dela para come\u00e7ar com uma base limpa.</li> <li> <p>Se a pasta n\u00e3o existe:     Avan\u00e7a para o pr\u00f3ximo passo sem alterar nada.</p> </li> <li> <p>4.1.3 Obt\u00e9m os dados:   Usa a biblioteca <code>requests</code> para fazer uma requisi\u00e7\u00e3o e buscar novo dado externo que precisamos.</p> </li> <li> <p>4.1.4 Armazena os dados em CSV:   Depois de obter os dados, os salva localmente em um arquivo CSV para facilitar o gerenciamento e manipula\u00e7\u00e3o.</p> </li> <li> <p>4.1.5 Valida os dados:   Utiliza o Pydantic para garantir que o dado que coletamos esteja correto e no formato esperado.</p> </li> <li> <p>4.1.6 Conecta com o banco de dados:   Estabelece uma conex\u00e3o segura com nosso banco de dados usando um ORM, que ajuda a simplificar a intera\u00e7\u00e3o com o banco.</p> </li> <li> <p>4.1.7 Atualiza a tabela no banco de dados:   Limpa os dado antigo da tabela no banco de dados e insere o novo dado que acabamos de coletar e validar.</p> </li> <li> <p>4.1.8 Monitora e registra evento:   Para acompanhar o progresso e lidar com qualquer problema, usa o Loguru para gerenciar registro detalhado de evento e poss\u00edvel falha durante o processo.</p> </li> <li> <p>4.1.9 Prepara o dado com dbt:   Utiliza o dbt para executar s\u00e9rie de opera\u00e7\u00e3o, como carregar dado inicial (seed), transformar dado conforme necess\u00e1rio e realizar teste para garantir qualidade do dado.</p> </li> <li> <p>4.1.10 Organiza o dado em camada:   No dbt, organiza o dado em camada estruturada como stage (est\u00e1gio), intermediate (intermedi\u00e1ria) e mart (mart), o que facilita gest\u00e3o e an\u00e1lise futura do dado.</p> </li> <li> <p>4.1.11 Integra com o Power BI:   Finalmente, integra o dado preparado e estruturado no dbt com um projeto do Power BI, onde pode criar visualiza\u00e7\u00e3o e an\u00e1lise poderosa para nosso usu\u00e1rio final.</p> </li> </ul>"},{"location":"5.0%20Resultados/","title":"5.0 Visualiza\u00e7\u00f5es Power BI","text":"<p>Abaixo segue exemplos de paineis criados no power bi com dados exemplo:</p> <p>5.1 Painel de despesas</p> <p>5.2 Painel perfil demografico</p>"},{"location":"6.0%20Contratos%20de%20dados/","title":"6.0 Contratos de dados","text":""},{"location":"6.0%20Contratos%20de%20dados/#despesa","title":"Despesa","text":"<p>Modelo representando informa\u00e7\u00f5es detalhadas sobre despesas, incluindo dados como ano, m\u00eas, tipo de despesa, documentos associados, fornecedor, valores l\u00edquidos e glosa.</p> <p>               Bases: <code>BaseModel</code></p> Source code in <code>app/models.py</code> <pre><code>class Despesa(BaseModel):\n    ano: int\n    mes: int\n    tipoDespesa: str\n    codDocumento: int\n    tipoDocumento: str\n    codTipoDocumento: int\n    dataDocumento: date\n    numDocumento: str\n    valorDocumento: float\n    urlDocumento: Optional[str]\n    nomeFornecedor: str\n    cnpjCpfFornecedor: str\n    valorLiquido: float\n    valorGlosa: float\n    numRessarcimento: str\n    codLote: int\n    parcela: int\n</code></pre>"},{"location":"6.0%20Contratos%20de%20dados/#deputado","title":"Deputado","text":"<p>Representa informa\u00e7\u00f5es b\u00e1sicas de um deputado, como ID, nome, partido, estado, legislatura, foto e email.</p> <p>               Bases: <code>BaseModel</code></p> Source code in <code>app/models.py</code> <pre><code>class Deputado(BaseModel):\n    id: int\n    uri: str\n    nome: str\n    siglaPartido: str\n    uriPartido: str\n    siglaUf: str\n    idLegislatura: int\n    urlFoto: str\n    email: Optional[str]\n</code></pre>"},{"location":"6.0%20Contratos%20de%20dados/#gabinete","title":"Gabinete","text":"<p>Detalha informa\u00e7\u00f5es espec\u00edficas de um gabinete parlamentar, incluindo nome, pr\u00e9dio, sala, andar, telefone e email.</p> <p>               Bases: <code>BaseModel</code></p> Source code in <code>app/models.py</code> <pre><code>class Gabinete(BaseModel):\n    nome: Optional[str]\n    predio: Optional[str]\n    sala: Optional[str]\n    andar: Optional[str]\n    telefone: Optional[str]\n    email: Optional[str]\n</code></pre>"},{"location":"6.0%20Contratos%20de%20dados/#ultimo-status","title":"\u00daltimo Status","text":"<p>Cont\u00e9m o status mais recente de um deputado, incluindo partido, estado, legislatura atual, foto, email, data do status, situa\u00e7\u00e3o eleitoral e descri\u00e7\u00e3o do status.</p> <p>               Bases: <code>BaseModel</code></p> Source code in <code>app/models.py</code> <pre><code>class UltimoStatus(BaseModel):\n    id: int\n    uri: Optional[str]\n    nome: Optional[str]\n    siglaPartido: Optional[str]\n    uriPartido: Optional[str]\n    siglaUf: Optional[str]\n    idLegislatura: int\n    urlFoto: Optional[str]\n    email: Optional[str]\n    data: Optional[str]\n    nomeEleitoral: Optional[str]\n    gabinete: Gabinete\n    situacao: str\n    condicaoEleitoral: Optional[str]\n    descricaoStatus: Optional[str]\n\n    def to_dict(self):\n        return self.model_dump()\n</code></pre>"},{"location":"6.0%20Contratos%20de%20dados/#dadosdeputado","title":"DadosDeputado","text":"<p>Fornece detalhes abrangentes de um deputado, incluindo nome civil, status atual, CPF, sexo, website, redes sociais, data de nascimento, estado de nascimento, munic\u00edpio de nascimento e escolaridade.</p> <p>               Bases: <code>BaseModel</code></p> Source code in <code>app/models.py</code> <pre><code>class DadosDeputado(BaseModel):\n    id: int\n    uri: str\n    nomeCivil: str\n    ultimoStatus: UltimoStatus\n    cpf: str\n    sexo: str\n    urlWebsite: Optional[str]\n    redeSocial: List[str]\n    dataNascimento: date\n    dataFalecimento: Optional[str]\n    ufNascimento: str\n    municipioNascimento: Optional[str]\n    escolaridade: Optional[str]\n</code></pre>"},{"location":"6.0%20Contratos%20de%20dados/#links","title":"Links","text":"<p>Modelo para representar links relacionados a entidades principais, especificando o tipo de rela\u00e7\u00e3o (rel) e o URL (href).</p> <p>               Bases: <code>BaseModel</code></p> Source code in <code>app/models.py</code> <pre><code>class Links(BaseModel):\n    rel: str\n    href: str\n</code></pre>"},{"location":"6.0%20Contratos%20de%20dados/#deputadohistorico","title":"DeputadoHistorico","text":"<p>Representa o hist\u00f3rico de um deputado ao longo do tempo, incluindo condi\u00e7\u00e3o eleitoral, data e hora dos eventos, status descritivo, email, ID, legislatura, nome eleitoral, partido, estado, situa\u00e7\u00e3o, URI, URI do partido e URL da foto.</p> <p>               Bases: <code>BaseModel</code></p> Source code in <code>app/models.py</code> <pre><code>class DeputadoHistorico(BaseModel):\n    condicaoEleitoral: Optional[str]\n    dataHora: datetime\n    descricaoStatus: Optional[str]\n    email: Optional[str]\n    id: int\n    idLegislatura: int\n    nome: str\n    nomeEleitoral: Optional[str]\n    siglaPartido: str\n    siglaUf: str\n    situacao: Optional[str]\n    uri: Optional[str]\n    uriPartido: Optional[str]\n    urlFoto: Optional[str]\n</code></pre>"}]}